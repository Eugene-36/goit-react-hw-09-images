{"version":3,"sources":["components/App/App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","services/apiImg.js","components/App/App.js","index.js","components/Modal/Modal.module.css"],"names":["module","exports","SearchBar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Button","onClick","ImageGalleryItem","url","alt","openModal","modalImage","s","gallery__card","src","modalRoot","document","querySelector","Modal","closeModal","code","onClose","closeModalClick","event","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","ImageGallery","showModal","toggleModal","images","gallery","map","webformatURL","tags","largeImageURL","uuidv4","key","getImages","seachQuery","currentPage","path","axios","get","App","isLoading","error","onChangeQuery","API","then","responseData","data","hits","catch","finally","fetchImg","prevState","prevProps","searchQuery","shouldRenderLoadMoreButton","length","container","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a06906ae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1l2ZA\",\"App-logo\":\"App_App-logo__623g2\",\"App-logo-spin\":\"App_App-logo-spin__Ui-Wu\",\"App-header\":\"App_App-header__1qjHO\",\"App-link\":\"App_App-link__3gDHy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery__card\":\"ImageGalleryItem_gallery__card__w-D52\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1XJUt\"};","import React, { Component } from 'react';\n\nclass SearchBar extends Component {\n  state = { query: '' };\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  // const { onDeleteTodo, completed, onToggleCompleted, } = onSubmit;\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button\n            type=\"submit\"\n            className=\"SearchForm-button\"\n            // onClick={() => onDeleteTodo(id)}\n          >\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            value={this.state.query}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            // checked={completed}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n  <button onClick={onClick} type=\"button\">\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\n\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\n// import PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ url, alt, openModal, modalImage }) => {\n  return (\n    <li onClick={() => openModal(modalImage)} className={s.gallery__card}>\n      <img src={url} alt={alt} />\n    </li>\n  );\n};\n\n// ImageGalleryItem.propTypes = {\n//   openModal: PropTypes.func.isRequired,\n//   modalImage: PropTypes.string.isRequired,\n//   url: PropTypes.string.isRequired,\n//   alt: PropTypes.string.isRequired,\n// };\n\nexport default ImageGalleryItem;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"../Modal/Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.closeModal);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.closeModal);\n  }\n  closeModal = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  closeModalClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.closeModalClick}>\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Modal from '../Modal/Modal';\nimport s from '../ImageGallery/ImageGallery.module.css';\nimport { v4 as uuidv4 } from 'uuid';\nclass ImageGallery extends Component {\n  state = {\n    showModal: false,\n    modalImage: '',\n    url: '',\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  openModal = modalImage => {\n    this.toggleModal();\n\n    this.setState({ modalImage });\n  };\n  render() {\n    const { images } = this.props;\n    const { showModal, modalImage } = this.state;\n    return (\n      <>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            {<img src={modalImage} alt=\"#\" />}\n          </Modal>\n        )}\n        <ul className={s.gallery}>\n          {images.map(e => (\n            <ImageGalleryItem\n              key={uuidv4()}\n              url={e.webformatURL}\n              alt={e.tags}\n              modalImage={e.largeImageURL}\n              openModal={this.openModal}\n            />\n          ))}\n        </ul>\n      </>\n    );\n  }\n}\nexport default ImageGallery;\n","// import axios from 'axios';\n// const apiKey = '19817444-e2944238b0133b6bab479e2af';\n// const fetchImg = ({ searchQuery = '', currentPage = 1 }) => {\n//   return axios\n//     .get(\n//       `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n//     )\n//     .then(response => response.data.images);\n// };\n\n// export default fetchImg;\n\nimport axios from 'axios';\n\nconst key = '19817444-e2944238b0133b6bab479e2af';\n\nexport const getImages = (seachQuery = '', currentPage = 1) => {\n  const path = `https://pixabay.com/api/?q=${seachQuery}&page=${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n  return axios.get(path);\n};\n\nexport const someFetch = () => {};\n","import React, { Component } from \"react\";\nimport SearchBar from \"../Searchbar/Searchbar\";\nimport s from \"../App/App.module.css\";\nimport Button from \"../Button/Button\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\n\n//import Loader from '../Loader/Loader';\nimport * as API from \"../../services/apiImg\";\n// import apiImg from '../../services/apiImg';\n// import shortid from 'shortid';\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    currentPage: 1,\n    seachQuery: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { seachQuery, currentPage } = this.state;\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImg(seachQuery, currentPage);\n    }\n  }\n\n  onChangeQuery = (seachQuery) => {\n    this.setState({ seachQuery, isLoading: true });\n    API.getImages(seachQuery)\n      .then((responseData) => {\n        // console.log('prevState', prevState);\n        this.setState({ images: responseData.data.hits });\n      })\n      .catch((error) => this.setState({ error: true }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n  fetchImg = () => {\n    const { seachQuery, currentPage } = this.state;\n    // const options = { seachQuery, currentPage };\n    API.getImages(seachQuery, currentPage + 1)\n      .then((responseData) => {\n        //console.log(prevState);\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...responseData.data.hits],\n\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error: true }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { images, isLoading, error } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 11 && !isLoading;\n    return (\n      <div className={s.container}>\n        <SearchBar onSubmit={this.onChangeQuery} />\n        {error && <h1>No image found</h1>}\n        {/* {isLoading ? <Loader /> : <ImageGallery images={images} />}\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImg} />} */}\n        {/* {isLoading && <Loader />} */}\n        {!isLoading && <ImageGallery images={images} />}\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImg} />}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n//import 'modern-normalize/modern-normalize.css';\nimport App from \"./components/App/App\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__249Fq\",\"modal\":\"Modal_modal__XXBQr\"};"],"sourceRoot":""}