{"version":3,"sources":["components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","services/apiImg.js","components/App/App.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","query","setQuery","className","e","preventDefault","type","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","Button","onClick","ImageGalleryItem","url","alt","openModal","modalImage","s","gallery__card","src","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","closeModal","removeEventListener","code","createPortal","overlay","event","target","modal","ImageGallery","images","showModal","setModal","setModalImage","toggleModal","useCallback","prevShowModal","gallery","map","webformatURL","tags","largeImageURL","uuidv4","Loader","color","height","width","timeout","key","App","setImages","isLoading","setIsLoading","error","setError","setCurrentPage","seachQuery","setSeachQuery","page","setPage","fetchImg","currentPage","path","axios","get","API","then","responseData","prevImg","data","hits","prevCurrentPage","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","onChangeQuery","shouldRenderLoadMoreButton","length","container","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9062e500.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__oeNjL\",\"modal\":\"Modal_modal__27_jO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2UAxU\",\"App-logo\":\"App_App-logo__g7Cou\",\"App-logo-spin\":\"App_App-logo-spin__lQp0i\",\"App-header\":\"App_App-header__V9vl2\",\"App-link\":\"App_App-link__16S9g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery__card\":\"ImageGalleryItem_gallery__card__1VORV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2ZW4g\"};","//import React, { Component } from \"react\";\nimport React, { useState, useEffect, useCallback } from \"react\";\n\nexport default function SearchBar({ onSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleChange = (e) => {\n    setQuery(e.currentTarget.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(query);\n    setQuery(\"\");\n  };\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button\n          type=\"submit\"\n          className=\"SearchForm-button\"\n          // onClick={() => onDeleteTodo(id)}\n        >\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          value={query}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          // checked={completed}\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n// class SearchBar extends Component {\n//   state = { query: \"\" };\n//   handleChange = (e) => {\n//     this.setState({ query: e.currentTarget.value });\n//   };\n//   handleSubmit = (e) => {\n//     e.preventDefault();\n//     this.props.onSubmit(this.state.query);\n//     this.setState({ query: \"\" });\n//   };\n\n//   render() {\n//     return (\n//       <header className=\"Searchbar\">\n//         <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n//           <button\n//             type=\"submit\"\n//             className=\"SearchForm-button\"\n//             // onClick={() => onDeleteTodo(id)}\n//           >\n//             <span className=\"SearchForm-button-label\">Search</span>\n//           </button>\n\n//           <input\n//             className=\"SearchForm-input\"\n//             value={this.state.query}\n//             type=\"text\"\n//             autoComplete=\"off\"\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//             // checked={completed}\n//             onChange={this.handleChange}\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\n// export default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n  <button onClick={onClick} type=\"button\">\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\n\nimport s from '../ImageGalleryItem/ImageGalleryItem.module.css';\n// import PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ url, alt, openModal, modalImage }) => {\n  return (\n    <li onClick={() => openModal(modalImage)} className={s.gallery__card}>\n      <img src={url} alt={alt} />\n    </li>\n  );\n};\n\n// ImageGalleryItem.propTypes = {\n//   openModal: PropTypes.func.isRequired,\n//   modalImage: PropTypes.string.isRequired,\n//   url: PropTypes.string.isRequired,\n//   alt: PropTypes.string.isRequired,\n// };\n\nexport default ImageGalleryItem;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"../Modal/Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", closeModal);\n\n    return function cleanup() {\n      window.removeEventListener(\"keydown\", closeModal);\n    };\n  });\n  const closeModal = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const closeModalClick = (event) => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={closeModalClick}>\n      <div className={s.modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n\n// export default class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener(\"keydown\", this.closeModal);\n//   }\n//   componentWillUnmount() {\n//     window.removeEventListener(\"keydown\", this.closeModal);\n//   }\n//   closeModal = (e) => {\n//     if (e.code === \"Escape\") {\n//       this.props.onClose();\n//     }\n//   };\n\n//   closeModalClick = (event) => {\n//     if (event.currentTarget === event.target) {\n//       this.props.onClose();\n//     }\n//   };\n\n//   render() {\n//     return createPortal(\n//       <div className={s.overlay} onClick={this.closeModalClick}>\n//         <div className={s.modal}>{this.props.children}</div>\n//       </div>,\n//       modalRoot\n//     );\n//   }\n// }\n","import React, { useState, useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\n// import PropTypes from 'prop-types';\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Modal from \"../Modal/Modal\";\nimport s from \"../ImageGallery/ImageGallery.module.css\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default function ImageGallery({ images }) {\n  const [showModal, setModal] = useState(false);\n  const [modalImage, setModalImage] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n\n  const toggleModal = useCallback(() => {\n    setModal((prevShowModal) => !prevShowModal);\n    setModalImage(null);\n  }, []);\n\n  const openModal = useCallback(\n    (modalImage) => {\n      toggleModal();\n      setModalImage(modalImage);\n    },\n    [toggleModal]\n  );\n\n  return (\n    <>\n      {showModal && (\n        <Modal onClose={toggleModal}>{<img src={modalImage} alt=\"#\" />}</Modal>\n      )}\n      <ul className={s.gallery}>\n        {images.map((e) => (\n          <ImageGalleryItem\n            key={uuidv4()}\n            url={e.webformatURL}\n            alt={e.tags}\n            modalImage={e.largeImageURL}\n            openModal={openModal}\n          />\n        ))}\n      </ul>\n    </>\n  );\n}\n// class ImageGallery extends Component {\n//   state = {\n//     showModal: false,\n//     modalImage: \"\",\n//     url: \"\",\n//   };\n//   toggleModal = () => {\n//     this.setState(({ showModal }) => ({\n//       showModal: !showModal,\n//     }));\n//   };\n//   openModal = (modalImage) => {\n//     this.toggleModal();\n\n//     this.setState({ modalImage });\n//   };\n//   render() {\n//     const { images } = this.props;\n//     const { showModal, modalImage } = this.state;\n//     return (\n//       <>\n//\n//       </>\n//     );\n//   }\n// }\n// export default ImageGallery;\n","import React from \"react\";\nimport Spinner from \"react-loader-spinner\";\nconst Loader = () => {\n  return (\n    <div>\n      <Spinner\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={75}\n        width={75}\n        timeout={2000}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","// import axios from 'axios';\n// const apiKey = '19817444-e2944238b0133b6bab479e2af';\n// const fetchImg = ({ searchQuery = '', currentPage = 1 }) => {\n//   return axios\n//     .get(\n//       `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n//     )\n//     .then(response => response.data.images);\n// };\n\n// export default fetchImg;\n\nimport axios from 'axios';\n\nconst key = '19817444-e2944238b0133b6bab479e2af';\n\nexport const getImages = (seachQuery = '', currentPage = 1) => {\n  const path = `https://pixabay.com/api/?q=${seachQuery}&page=${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n  return axios.get(path);\n};\n\nexport const someFetch = () => {};\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport SearchBar from \"../Searchbar/Searchbar\";\nimport s from \"../App/App.module.css\";\nimport Button from \"../Button/Button\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\n\nimport Loader from \"../Loader/Loader\";\nimport * as API from \"../../services/apiImg\";\n//==================================\n\n// import apiImg from '../../services/apiImg';\n// import shortid from 'shortid';\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [seachQuery, setSeachQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (seachQuery === \"\") {\n      return;\n    }\n\n    fetchImg(seachQuery, page);\n  }, [seachQuery, page]);\n\n  const fetchImg = (seachQuery, page) => {\n    setIsLoading(true);\n\n    API.getImages(seachQuery, page)\n      .then((responseData) => {\n        // console.log(responseData);\n        setImages((prevImg) => [...prevImg, ...responseData.data.hits]);\n        setCurrentPage((prevCurrentPage) => prevCurrentPage + 1);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => setError(true))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const incrementPage = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const onChangeQuery = useCallback((seachQuery) => {\n    setSeachQuery(seachQuery);\n    setIsLoading(true);\n    setPage(1);\n    setImages([]);\n    setError(null);\n  }, []);\n  const shouldRenderLoadMoreButton = images.length > 11 && !isLoading;\n\n  return (\n    <div className={s.container}>\n      <SearchBar onSubmit={onChangeQuery} />\n      {error && <h1>No image found</h1>} {isLoading && <Loader />}\n      {!isLoading && <ImageGallery images={images} />}\n      {shouldRenderLoadMoreButton && <Button onClick={incrementPage} />}{\" \"}\n    </div>\n  );\n}\n//===========================================\n// class App extends Component {\n//   state = {\n//     images: [],\n//     isLoading: false,\n//     error: null,\n//     currentPage: 1,\n//     seachQuery: \"\",\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     const { seachQuery, currentPage } = this.state;\n//     if (prevState.searchQuery !== this.state.searchQuery) {\n//       this.fetchImg(seachQuery, currentPage);\n//     }\n//   }\n\n//   onChangeQuery = (seachQuery) => {\n//     this.setState({ seachQuery, isLoading: true });\n//     API.getImages(seachQuery)\n//       .then((responseData) => {\n//         // console.log('prevState', prevState);\n//         this.setState({ images: responseData.data.hits });\n//       })\n//       .catch((error) => this.setState({ error: true }))\n//       .finally(() => this.setState({ isLoading: false }));\n//   };\n//   fetchImg = () => {\n//     const { seachQuery, currentPage } = this.state;\n//     // const options = { seachQuery, currentPage };\n//     API.getImages(seachQuery, currentPage + 1)\n//       .then((responseData) => {\n//         //console.log(prevState);\n//         this.setState((prevState) => ({\n//           images: [...prevState.images, ...responseData.data.hits],\n\n//           currentPage: prevState.currentPage + 1,\n//         }));\n//       })\n//       .catch((error) => this.setState({ error: true }))\n//       .finally(() => this.setState({ isLoading: false }));\n//   };\n\n//   render() {\n//     const { images, isLoading, error } = this.state;\n//     const shouldRenderLoadMoreButton = images.length > 11 && !isLoading;\n//     return (\n//       <div className={s.container}>\n//         <SearchBar onSubmit={this.onChangeQuery} />\n//         {error && <h1>No image found</h1>}\n//         {/* {isLoading ? <Loader /> : <ImageGallery images={images} />}\n//         {shouldRenderLoadMoreButton && <Button onClick={this.fetchImg} />} */}\n//         {isLoading && <Loader />}\n//         {!isLoading && <ImageGallery images={images} />}\n//         {shouldRenderLoadMoreButton && <Button onClick={this.fetchImg} />}\n//       </div>\n//     );\n//   }\n// }\n// export default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n//import 'modern-normalize/modern-normalize.css';\nimport App from \"./components/App/App\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}